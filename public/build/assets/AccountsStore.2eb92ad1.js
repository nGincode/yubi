import{r as n,j as a,F as x,a as e,H as S,L as w,S as c,T as o}from"./app.0e4dd774.js";import{P as q,S as T,I as y,D as A,V as k}from"./PermissionData.6cba3e2d.js";import{B as D}from"./Button.f2d444e5.js";import"./Input.fc52971b.js";function O(t){const m="accounts_store",l="Store",i=q("Auth",t.permission,t.groups.groups.data,m),[u,s]=n.exports.useState(!1),h=async d=>{if(d==="create"){var g=new FormData($("#createForm")[0]);try{await axios({method:"POST",url:"/api/store/create",data:g,headers:{"Content-Type":"multipart/form-data",Accept:"application/json",Authorization:`Bearer ${t.auth.user.token_api}`,"X-CSRF-TOKEN":t.csrf_token}}).then(r=>{setTimeout(()=>{s(!1)},5e3),o(r.data.response,r.data.message),r.data.response==="success"&&($("#DataTables").DataTable().ajax.reload(),$("#createForm")[0].reset(),$(".is-valid").removeClass("is-valid"))})}catch(r){o("error",r.message),setTimeout(()=>{s(!1)},5e3)}}},p=[{value:"True",label:"Active"},{value:"False",label:"Non Active"}],b=[{value:"Office",label:"Office"},{value:"Outlet",label:"Outlet"},{value:"Dapur Produksi",label:"Dapur Produksi"},{value:"Logistik",label:"Logistik"},{value:"Khusus",label:"Khusus"}],f={name:{required:!0,minlength:3,maxlength:50},address:{required:!0,minlength:3,maxlength:191},status:{required:!0},tipe:{required:!0},whatsapp:{required:!0,minlength:10,maxlength:15},late:{required:!0,min:1,max:30},firstpriod:{required:!0,min:1,max:31},endpriod:{required:!0,min:1,max:31}},v={nameUpdate:{required:!0,minlength:3,maxlength:50},addressUpdate:{required:!0,minlength:3,maxlength:191},statusUpdate:{required:!0},tipeUpdate:{required:!0},whatsappUpdate:{required:!0,minlength:10,maxlength:15},lateUpdate:{required:!0,min:1,max:30},firstpriodUpdate:{required:!0,min:1,max:31},endpriodUpdate:{required:!0,min:1,max:31}},N=d=>{s(!0),d.preventDefault(),k("#createForm",f)?h("create"):s(!1)};return n.exports.useEffect(()=>{$("#main-wrapper").removeClass("menu-toggle"),$(".hamburger ").removeClass("is-active")},[]),a(x,{children:[e(S,{title:l}),e("div",{className:"row page-titles",children:a("div",{className:"breadcrumb",children:[e("li",{className:"breadcrumb-item",children:e("a",{children:"Accounts"})}),e("li",{className:"breadcrumb-item  active",children:e(w,{href:route(m),children:l})})]})}),e(T,{}),a("div",{id:"content",children:[i.create&&e("div",{className:"col-xl-12 ",children:a("div",{className:"card",children:[e("div",{className:"card-header coin-card",children:e("h4",{className:"card-title text-white",children:e("b",{children:l})})}),e("div",{className:"card-body",children:e("div",{className:"basic-form",children:a("form",{id:"createForm",onSubmit:N,children:[e(y,{name:"img",id:"img"}),a("div",{className:"row",children:[e("div",{className:"mb-3 col-md-6",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",htmlFor:"name",children:"Name Store"}),e("input",{type:"text",name:"name",id:"name",className:"form-control",placeholder:"Name Store"})]})}),e("div",{className:"mb-3 col-md-6",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"Address"}),e("input",{type:"text",name:"address",id:"address",className:"form-control",placeholder:"Jl. Jend xxx"})]})})]}),a("div",{className:"row",children:[e("div",{className:"mb-3 col-md-6",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"Status"}),e(c,{name:"status",id:"status",data:p,defaultValue:""})]})}),e("div",{className:"mb-3 col-md-6",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"Tipe"}),e(c,{name:"tipe",id:"tipe",defaultValue:"",data:b})]})})]}),a("div",{className:"row",children:[e("div",{className:"mb-3 col-md-6",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"Whatsapp"}),e("input",{type:"number",name:"whatsapp",id:"whatsapp",className:"form-control",placeholder:"0822XXX"})]})}),e("div",{className:"mb-3 col-md-6",children:a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"Late Tolerance (minute)"}),e("input",{type:"number",name:"late",id:"late",className:"form-control",placeholder:"1 minute"})]})}),a("div",{className:"mb-3 col-md-6",children:[a("div",{className:"form-group",children:[e("label",{className:"form-label",children:"Working Period Date"}),e("div",{className:"flex items-start",children:a("div",{className:"input-group mb-1",children:[e("input",{type:"number",name:"firstpriod",id:"firstpriod",className:"form-control",placeholder:"Start"}),e(c,{name:"statuspriod",id:"statuspriod",data:[{label:"Active  Month",value:"Active"},{label:"Next Month",value:"Next"}],defaultValue:""}),e("input",{type:"number",name:"endpriod",id:"endpriod",className:"form-control",placeholder:"End"})]})})]}),e("font",{color:"red",children:"*"})," If select now the first date does not exceed the end date"]})]}),e("hr",{}),e(D,{type:"submit",className:"btn btn-primary",processing:u,children:"Submit"})]})})})]})}),i.view&&e("div",{className:"col-12",children:a("div",{className:"card",children:[e("div",{className:"card-header bg-secondary",children:e("h4",{className:"card-title  text-white",children:a("b",{children:["Data ",l]})})}),e("div",{className:"card-body",children:e("div",{className:"table-responsive",children:e(A,{columns:[{data:"img",title:"#"},{data:"name",title:"Nama"},{data:"whatsapp",title:"Whatsapp"},{data:"status",title:"Status"},{data:"action",title:"Action",orderable:!1,width:50,className:"text-right"}],API:"/api/store",Method:"POST",Subject:"Store",Action:i.managePerm,setValidate:v,csrf_token:t.csrf_token,api_token:`Bearer ${t.auth.user.token_api}`})})})]})})]})]})}export{O as default};
